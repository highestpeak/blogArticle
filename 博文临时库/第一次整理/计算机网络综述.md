应用层和传输层协议，网络层IP

和web互联网有关的其他知识：SDN等

SSL算传输层的？

七层和五层协议栈

https://zh.wikipedia.org/wiki/TCP/IP%E5%8D%8F%E8%AE%AE%E6%97%8F



网络层只把分组发送到目的主机，但是真正通信的并不是主机而是主机中的进程。传输层提供了进程间的逻辑通信，传输层向高层用户屏蔽了下面网络层的核心细节，使应用程序看起来像是在两个传输层实体之间有一条端到端的逻辑通信信道

> 传输层和网络层

传输层

- 传输层协议是在端系统中，不是在路由器中，报文段segment
- 因特网有两种传输层协议TCP UDP，但传输层不止这两个协议（非因特网）

网络层

- 网络层IP协议，不做任何确保，不可靠服务
- 网络层提供主机到主机，运输层提供进程到进程。即使网络层不可靠，运输层也能提供可靠传输，即使网络层不安全，运输层也能提供加密

**多路复用和多路分解**：主机的传输层报文和套接字之间的关系。

- 在发送端，收集套接字的数据，为数据封装首部信息生成报文段，传递报文段到网络层，这是多路复用。
- 在接收端，检查保温字段，表示出接受套接字，交付到正确的套接字，这是多路分解。
- （<u>*todo: 传输层报文结构图*</u> 源端口号、目的端口号、共32比特）（0~1023周知端口号）





- IP：电子设备（计算机）在网络中的唯一标识，一个IP对应一台**实体**电脑
- 端口：应用程序在计算机中的唯一标识，一个端口只能被唯一程序占用
- 传输协议：数据传输的规则



❌端口是什么，有什么用

端口（英语：port），又称为连接端口、端口、协议端口（protocol port）在电脑网络中是一种经由软件创建的服务，在一个电脑操作系统中扮演通信的端点（endpoint）。每个端口都会与主机的IP地址及通信协议关联。端口以16比特数字来表示，这被称为端口编号（port number）

端口号有两种用途：

标识服务器上提供特定网络服务的进程。客户机可以按照服务器IP与端口号与相应的服务器进程创建网络连接，获得相应的网络服务。例如，通常使用80端口号提供http服务，使用23端口号telnet服务。服务器的这种功能叫做listening。客户机通常使用动态指定的端口号与服务器创建连接。
由本机地址、本机端口号、目标机地址、目标机端口号、通信协议组成的五元组，用于唯一确定正在使用的网络链接。因此，对于不同的协议、不同的目标机地址，本机的不同地址（如果本机使用多个网卡）等多种情形，同一个端口号可以复用。因此对于1对1通信，且本机与目标机之间只能创建一个通信连接，则不需要使用端口号。
网络防火墙或者网关还可提供端口转发（port forwarding），即NAT。

端口其实就是标识进程，不同的是，标识的是网络连接中的进程。本机进程的标识可以使用pid等进行。



对于一系列的过程，如内网和外网通信（即局域网和公网通信）。两个局域网之间通信。如果加上DNS等的呢？如果加上DHCP等的呢？如果加上动态IP地址的呢？

从底层的MAC、IP、ARP等过程到高层的TCP、UDP，再到HTTP等过程都要明白每步骤在做什么



ping的过程，ping依赖于ICMP