# 算法

特征提取==>算法处理===>可视化结果

针对不同类别的报警信息有不同的算法来处理：

- 决策树算法
- 聚类算法
- 分类算法

针对数据的处理：（自动化特征提取）

- 数据降维
- 多维度特征提取



聚类算法：报警信息聚类，将具有相同根因的报警归纳为能够涵盖报警内容的泛化报警（Generalized Alarms）

- 收集报警信息（统一的过滤器）（报警信息经过一层格式化成为统一的格式）
  - 单故障和多故障情形
  - 异常报警和超时报警
- 提取报警信息的关键特征
  - 机房、环境、异常来源、报警日志文本关键内容、故障所在位置（接口、类）
  - 报警日志产生的时间、服务标记、在代码中的位置、日志内容
  - 报警数量
- 聚类处理
  - 聚类结果可能有好几种，可以全部展示，也可以部分展示
  - 聚类停止条件：
    - 部分场景下，报警日志可能较少
    - 聚类标准依据的选择
- 通过使用文本分类、文本特征向量相似度等，提高日志内容分析的准确度，提升泛化效果
- 针对系统中多种不同类型的报警，可以配合其他聚类算法（如K-Means）共同对报警进行处理，优化聚合效果
- 针对超时链路根因分析，决策树算法是比较有效的机器学习算法？
  - 超时的根因情况很多，比较常见的故障是某个节点发生了阻塞，这种情况是比较严重的故障，需要重点对待。但是针对一次超时链路的根因分析只能反映一条链路存在的问题，当故障发生时，往往会产生大量的超时，这种单链路超时根因分析，并不能掌握所有链路的超时情况，因此需要将超时根因分析的结果进行二次聚类，以便从全局层面找到阻塞点
- 异常根因分析：
  - 开发人员在处理异常时，对异常进行了层层封装，导致异常被不断向外抛出时，很多有价值的信息被隐藏在了最底层
  - 文本分类、分词、特征提取、词袋模型
  - 尽管系统有很多异常，但并不一定代表系统有故障，所以需要建立故障特征库，并将异常聚类信息与识别出的故障特征进行匹配，从而实现故障根因分析

算法参考：

- “Clustering Intrusion Detection Alarms to Support Root Cause Analysis [KLAUS JULISCH, 2002]”中描述的根因分析算法
  - 以[美团文章为例](https://tech.meituan.com/2019/02/28/root-clause-analysis.html)
- 知识库、推理机、解释器；专家系统，决策树
- 多维度KPI(关键性能指标)的分析参考
  - [R. Bhagwan, R. Kumar, and R. o. Ramjee, “Adtributor: Revenue debugging in advertising systems,” in NSDI, 2014, pp. 43–55.](https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/main-14.pdf)
  - [Q. Lin, J. Lou, H. Zhang, and D. Zhang, “idice: problem identification for emerging issues,” ICSE. ACM,, pp. 214–224, 2016.](https://www.microsoft.com/en-us/research/wp-content/uploads/2016/07/ICSE-2016-1-iDice-Problem-Identification-for-Emerging-Issues.pdf)
  - **HotSpot: Anomaly Localization for Additive KPIs With Multi-Dimensional Attributes**
  - 数据降维？



# 可视化

可视化界面：

- 展示报警摘要
- 树形的报警信息展示
- 网状的报警信息展示