数据库中的锁，和操作系统中的锁的关系？和并发锁的关系？和分布式锁的关系？他们这些锁的区别。

一位知乎答主：数据库有自己的并发控制和锁问题，虽然在原理上和操作系统中的概念非常类似，但是并不是同一个层次上的东西。数据库中的锁，在粒度/类型/实现方式上和操作系统中的锁都完全不同。操作系统中的锁，在数据库实现中称为latch（一般译为闩）。其他回答者回答的其实是“在并行事务处理的情况下怎样保证数据的一致性”。



一位知乎答主：首先说对原子性的理解。数据库的理解和操作系统的理解是截然相反的。        数据库的原子性说的其实不是楼上说的那些。数据库的原子性说的是failure atomicity：一个事物要么运行成功，要么完全没有运行。也正如题主所问的（非常贴切！），这东西和一致性直接相关。因为如果一个事务的修改到一半终止掉，那么是不可能保持一致性的！        那么楼上说的是啥呢？楼上说的其实是操作系统对atomic的理解：并发控制。OK为啥这么说，因为操作系统直到现在都没有一个统一的并发控制体系，最常用的并发控制就是：锁。而且，锁在操作系统里是没法和数据进行对应的。所以，在操作系统里，用锁来控制运行的顺序：任何要看到非atomic的操作或者非consistent的线程和Interrupt handler都被锁锁在外面。所以，这是操作系统理解的一致性和原子性。



作者：我练功发自真心
链接：https://www.zhihu.com/question/30272728/answer/56373661
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。